# Base configuration file for Perl DBA database backup program
#
# This configuration file is designed to use the YAML serialization
# language. See http://search.cpan.org/~ingy/YAML-0.35/YAML.pod for more
# information.
#
# This is the base configuration file. To actually backup databases you will
# need to specify the module for that database. With any particular module
# there should be an etc/dba-backup-<module>.yml file in the same directory as
# this file with server specific
# configuration information needed for that RDBMS. That .yml file should be
# edited and installed as well. Variables set in that file overide settings in
# this global conf when backing up databases in from that server type. 
#
#
# IMPORTANT: Ensure that this config file is owned by an appropriate privileged
#            user and group and its mode is 400 or 440.
#
# IMPORTANT: Comments on the same line as a config varible are not supported
#            Eg:  varname: value # commment  - invalid
#
#              varname: value 
#              # commment - valid 

--- #YAML:1.0

DEBUG: 1

## backup-params ##
# Specifies where the backups should be stored and how many log files
# to keep and when to delete them etc. These will be the global defaults.
#
# DUMP_DIR - the directory where full database backups and binary logs
#            will be stored.
#
# LOG_FILE - the full path and the name of a file containing all messages
#            generated by the backup program
# 
# DUMP_COPIES - number of old dumps (and binary logs) to keep
#
# CYCLE_UPDATE_LOGS_DAILY - binary update log will be cycled with
#                        every full dump regardless.  Specify 'yes'
#                        here if you want it to also be cycled and
#                        moved to the dump_dir every day (every time
#                        the script is run) [recommended]

backup_params:
  DUMP_DIR: '/path/to/dump/dir'
  LOG_FILE: '/path/to/backup.log'
  DUMP_COPIES: 2
  CYCLE_UPDATE_LOGS_DAILY: yes
  CYCLE_ERROR_LOGS: yes

# Each server type may have other logs that are always required, but our
# global default only concerns itself with update and error logs, which are
# handled differently (more carefully) than other logs in most cases. It is
# assumed that a server extension will handle replication logs as part of
# update log cycle management.


## mail-setup ##
# controls the email notification features for the script allows the 
# creation of a list of users which will be notified when the program
# is ran
#
# mail_notification - enable/disable the email notification. Valid
#                     values are 'yes'/'no'
#
# mail_to - comma separated list of email addresses to whom status
#           notification emails will be sent
#
# mail_cc - comma separated list of email adresses of other people who
#           will be copied on the notification emails
#
# mail_from - the email address from which the emails will appear to
#             come from
#
# mail_server - name of the mail server which will be used to send the
#               notification emails 

mail_setup:
  mail_notification: yes
  mail_to:
    - 'dba@your.domain.com'
  mail_cc:
    - 'developer-list@your.domain.com'
#    - 'qa-list@your.domain.com'
  mail_from: 'dba-backup@mysql_server.domain.com'
  mail_server: smtp.domain.com


###
### Add server specifics, including exactly what databases to backup below.
### See the documentation for your servers specific extension(s) for more
### details.
###
